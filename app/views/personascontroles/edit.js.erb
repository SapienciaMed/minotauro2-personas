$("#personascontrol_form").collapse("hide");

$("#personascontrol_form").empty();

<% if @active_record.present? %>
	$("#personascontrol_<%= @active_record.id %>").replaceWith("<%= j render 'tr', personascontrol: @active_record %>");
<% end %>

$("#personascontrol_<%= @personascontrol.id %>").html("<td colspan='8'><%= j render 'personascontroles_form' %></td>");

$("#personascontrol_<%= @personascontrol.id %>").addClass("active_personascontrol");

$(".select2").select2();

$(".tooltip").tooltip("hide");

$('[data-toggle="tooltip"]').tooltip();

$(function() {
    return $('.select2Ciudad').select2({
        minimumInputLength: 3,
        maximumInputLength: 20,
        placeholder: "[ Seleccionar Municipio ]",
        ajax: {
            url: '/personas/search.json',
            dataType: 'json',
            delay: 250,
            data: function(params) {
                return {
                    q: params.term,
                    page: params.page
                };
            },
            processResults: function(data) {
                return {
                    results: $.map(data, function(item) {
                        return {
                            text: item.name,
                            id: item.id
                        };
                    })
                };
            }
        }
    });
});




$(function() {
    return $('.select3Ciudad').select2({
        minimumInputLength: 3,
        maximumInputLength: 20,
        placeholder: "[ Seleccionar Municipio ]",
        ajax: {
            url: '/personas/search.json',
            dataType: 'json',
            delay: 250,
            data: function(params) {
                return {
                    q: params.term,
                    page: params.page
                };
            },
            processResults: function(data) {
                return {
                    results: $.map(data, function(item) {
                        return {
                            text: item.name,
                            id: item.id
                        };
                    })
                };
            }
        }
    });
});


$(function() {
    return $('.select4Ciudad').select2({
        minimumInputLength: 3,
        maximumInputLength: 20,
        placeholder: "[ Seleccionar Municipio ]",
        ajax: {
            url: '/personas/search.json',
            dataType: 'json',
            delay: 250,
            data: function(params) {
                return {
                    q: params.term,
                    page: params.page
                };
            },
            processResults: function(data) {
                return {
                    results: $.map(data, function(item) {
                        return {
                            text: item.name,
                            id: item.id
                        };
                    })
                };
            }
        }
    });
});


$(function() {
    return $('.select5Ciudad').select2({
        minimumInputLength: 3,
        maximumInputLength: 20,
        placeholder: "[ Seleccionar Municipio ]",
        ajax: {
            url: '/personas/search.json',
            dataType: 'json',
            delay: 250,
            data: function(params) {
                return {
                    q: params.term,
                    page: params.page
                };
            },
            processResults: function(data) {
                return {
                    results: $.map(data, function(item) {
                        return {
                            text: item.name,
                            id: item.id
                        };
                    })
                };
            }
        }
    });
});